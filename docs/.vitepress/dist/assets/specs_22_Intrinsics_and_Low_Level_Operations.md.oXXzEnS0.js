import{_ as i,c as a,o as e,aj as t}from"./chunks/framework.CSCBGoZg.js";const c=JSON.parse('{"title":"Intrinsics and Low-Level Operations","description":"","frontmatter":{},"headers":[],"relativePath":"specs/22_Intrinsics_and_Low_Level_Operations.md","filePath":"specs/22_Intrinsics_and_Low_Level_Operations.md"}'),n={name:"specs/22_Intrinsics_and_Low_Level_Operations.md"};function l(h,s,r,k,p,d){return e(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="intrinsics-and-low-level-operations" tabindex="-1">Intrinsics and Low-Level Operations <a class="header-anchor" href="#intrinsics-and-low-level-operations" aria-label="Permalink to “Intrinsics and Low-Level Operations”">​</a></h1><p><strong>Version:</strong> 0.1.2 <strong>Last Updated:</strong> November 9, 2025</p><p>This document describes Vex&#39;s support for low-level operations, compiler intrinsics, and platform-specific features.</p><hr><h2 id="table-of-contents" tabindex="-1">Table of Contents <a class="header-anchor" href="#table-of-contents" aria-label="Permalink to “Table of Contents”">​</a></h2><ol><li><a href="#bit-manipulation-intrinsics">Bit Manipulation Intrinsics</a></li><li><a href="#cpu-feature-detection">CPU Feature Detection</a></li><li><a href="#memory-intrinsics">Memory Intrinsics</a></li><li><a href="#simd-intrinsics">SIMD Intrinsics</a></li><li><a href="#platform-specific-features">Platform-Specific Features</a></li></ol><hr><h2 id="bit-manipulation-intrinsics" tabindex="-1">Bit Manipulation Intrinsics <a class="header-anchor" href="#bit-manipulation-intrinsics" aria-label="Permalink to “Bit Manipulation Intrinsics”">​</a></h2><p>Vex provides LLVM bit manipulation intrinsics for high-performance low-level operations.</p><h3 id="available-intrinsics" tabindex="-1">Available Intrinsics <a class="header-anchor" href="#available-intrinsics" aria-label="Permalink to “Available Intrinsics”">​</a></h3><h4 id="count-leading-zeros-ctlz-x" tabindex="-1">Count Leading Zeros: <code>ctlz(x)</code> <a class="header-anchor" href="#count-leading-zeros-ctlz-x" aria-label="Permalink to “Count Leading Zeros: ctlz(x)”">​</a></h4><p>Counts the number of leading zero bits in an integer.</p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> u32</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0b00001111_00000000_00000000_00000000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0x0F000000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> zeros </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ctlz</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns 4 (leading zeros before first 1)</span></span></code></pre></div><p><strong>Supported Types</strong>: <code>u8</code>, <code>u16</code>, <code>u32</code>, <code>u64</code>, <code>u128</code></p><h4 id="count-trailing-zeros-cttz-x" tabindex="-1">Count Trailing Zeros: <code>cttz(x)</code> <a class="header-anchor" href="#count-trailing-zeros-cttz-x" aria-label="Permalink to “Count Trailing Zeros: cttz(x)”">​</a></h4><p>Counts the number of trailing zero bits in an integer.</p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> u32</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0b11110000_00000000_00000000_00000000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0xF0000000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> zeros </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cttz</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns 24 (trailing zeros)</span></span></code></pre></div><p><strong>Supported Types</strong>: <code>u8</code>, <code>u16</code>, <code>u32</code>, <code>u64</code>, <code>u128</code></p><h4 id="population-count-popcnt-x" tabindex="-1">Population Count: <code>popcnt(x)</code> <a class="header-anchor" href="#population-count-popcnt-x" aria-label="Permalink to “Population Count: popcnt(x)”">​</a></h4><p>Counts the number of set bits (1s) in an integer.</p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> u32</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0b10110100_11100011_00001111_00000000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0xB4E30F00</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> popcnt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns 12 (number of 1 bits)</span></span></code></pre></div><p><strong>Supported Types</strong>: <code>u8</code>, <code>u16</code>, <code>u32</code>, <code>u64</code>, <code>u128</code></p><h4 id="bit-reverse-bitreverse-x" tabindex="-1">Bit Reverse: <code>bitreverse(x)</code> <a class="header-anchor" href="#bit-reverse-bitreverse-x" aria-label="Permalink to “Bit Reverse: bitreverse(x)”">​</a></h4><p>Reverses the bits in an integer.</p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> u8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0b11010011</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0xD3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reversed </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bitreverse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns 0b11001011 (0xCB)</span></span></code></pre></div><p><strong>Supported Types</strong>: <code>u8</code>, <code>u16</code>, <code>u32</code>, <code>u64</code>, <code>u128</code></p><h4 id="bit-swap-bswap-x" tabindex="-1">Bit Swap: <code>bswap(x)</code> <a class="header-anchor" href="#bit-swap-bswap-x" aria-label="Permalink to “Bit Swap: bswap(x)”">​</a></h4><p>Swaps the bytes in an integer (endianness conversion).</p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> u32</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x12345678</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> swapped </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bswap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns 0x78563412</span></span></code></pre></div><p><strong>Supported Types</strong>: <code>u16</code>, <code>u32</code>, <code>u64</code>, <code>u128</code></p><h4 id="overflow-checks" tabindex="-1">Overflow Checks <a class="header-anchor" href="#overflow-checks" aria-label="Permalink to “Overflow Checks”">​</a></h4><p><strong>Signed Addition Overflow</strong>: <code>sadd_overflow(a, b)</code> → <code>(result, overflow)</code></p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (result, overflow) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sadd_overflow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">i32</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MAX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> overflow {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Handle overflow</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Signed Subtraction Overflow</strong>: <code>ssub_overflow(a, b)</code> → <code>(result, overflow)</code></p><p><strong>Signed Multiplication Overflow</strong>: <code>smul_overflow(a, b)</code> → <code>(result, overflow)</code></p><p><strong>Supported Types</strong>: <code>i8</code>, <code>i16</code>, <code>i32</code>, <code>i64</code>, <code>i128</code></p><h3 id="memory-operations" tabindex="-1">Memory Operations <a class="header-anchor" href="#memory-operations" aria-label="Permalink to “Memory Operations”">​</a></h3><h4 id="memory-allocation-alloc-size-→-u8" tabindex="-1">Memory Allocation: <code>alloc(size)</code> → <code>*u8</code> <a class="header-anchor" href="#memory-allocation-alloc-size-→-u8" aria-label="Permalink to “Memory Allocation: alloc(size) → *u8”">​</a></h4><p>Allocates <code>size</code> bytes of memory.</p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">unsafe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ptr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">u8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> alloc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Allocate 1KB</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Use ptr...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    free</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ptr);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="memory-free-free-ptr" tabindex="-1">Memory Free: <code>free(ptr)</code> <a class="header-anchor" href="#memory-free-free-ptr" aria-label="Permalink to “Memory Free: free(ptr)”">​</a></h4><p>Frees previously allocated memory.</p><h4 id="memory-realloc-realloc-ptr-new-size-→-u8" tabindex="-1">Memory Realloc: <code>realloc(ptr, new_size)</code> → <code>*u8</code> <a class="header-anchor" href="#memory-realloc-realloc-ptr-new-size-→-u8" aria-label="Permalink to “Memory Realloc: realloc(ptr, new_size) → *u8”">​</a></h4><p>Resizes allocated memory block.</p><h4 id="memory-move-memmove-dst-src-count" tabindex="-1">Memory Move: <code>memmove(dst, src, count)</code> <a class="header-anchor" href="#memory-move-memmove-dst-src-count" aria-label="Permalink to “Memory Move: memmove(dst, src, count)”">​</a></h4><p>Copies <code>count</code> bytes from <code>src</code> to <code>dst</code>, handling overlapping regions.</p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">unsafe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> buffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">u8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> alloc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Move overlapping regions</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    memmove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), buffer, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="type-information" tabindex="-1">Type Information <a class="header-anchor" href="#type-information" aria-label="Permalink to “Type Information”">​</a></h3><h4 id="size-of-sizeof-t-→-usize" tabindex="-1">Size Of: <code>sizeof&lt;T&gt;()</code> → <code>usize</code> <a class="header-anchor" href="#size-of-sizeof-t-→-usize" aria-label="Permalink to “Size Of: sizeof&lt;T&gt;() → usize”">​</a></h4><p>Returns the size in bytes of type <code>T</code>.</p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sizeof&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">i32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns 4</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr_size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sizeof&lt;[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">i32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; 10]&gt;(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns 40</span></span></code></pre></div><h4 id="align-of-alignof-t-→-usize" tabindex="-1">Align Of: <code>alignof&lt;T&gt;()</code> → <code>usize</code> <a class="header-anchor" href="#align-of-alignof-t-→-usize" aria-label="Permalink to “Align Of: alignof&lt;T&gt;() → usize”">​</a></h4><p>Returns the alignment in bytes of type <code>T</code>.</p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> align </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> alignof&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">i64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns 8</span></span></code></pre></div><h3 id="crypto-intrinsics" tabindex="-1">Crypto Intrinsics <a class="header-anchor" href="#crypto-intrinsics" aria-label="Permalink to “Crypto Intrinsics”">​</a></h3><h4 id="carry-less-multiplication-clmul-a-b" tabindex="-1">Carry-Less Multiplication: <code>clmul(a, b)</code> <a class="header-anchor" href="#carry-less-multiplication-clmul-a-b" aria-label="Permalink to “Carry-Less Multiplication: clmul(a, b)”">​</a></h4><p>Performs carry-less multiplication (XOR instead of ADD during shift-add steps). Used for CRC, GCM, and other cryptographic algorithms.</p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> u64</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> u64</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> clmul</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a, b);</span></span></code></pre></div><p><strong>Implementation:</strong></p><ul><li><strong>x86_64:</strong> <code>PCLMULQDQ</code> instruction.</li><li><strong>ARM64:</strong> <code>PMULL</code> instruction.</li><li><strong>Software:</strong> Shift-XOR loop fallback.</li></ul><p><strong>Supported Types:</strong> <code>u64</code>, <code>i64</code></p><h3 id="array-operations" tabindex="-1">Array Operations <a class="header-anchor" href="#array-operations" aria-label="Permalink to “Array Operations”">​</a></h3><h4 id="array-length-array-len-arr-→-usize" tabindex="-1">Array Length: <code>array_len(arr)</code> → <code>usize</code> <a class="header-anchor" href="#array-length-array-len-arr-→-usize" aria-label="Permalink to “Array Length: array_len(arr) → usize”">​</a></h4><p>Returns the length of an array.</p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">i32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> len </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> array_len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns 5</span></span></code></pre></div><h3 id="utf-8-operations" tabindex="-1">UTF-8 Operations <a class="header-anchor" href="#utf-8-operations" aria-label="Permalink to “UTF-8 Operations”">​</a></h3><h4 id="utf-8-validation-utf8-valid-str-→-bool" tabindex="-1">UTF-8 Validation: <code>utf8_valid(str)</code> → <code>bool</code> <a class="header-anchor" href="#utf-8-validation-utf8-valid-str-→-bool" aria-label="Permalink to “UTF-8 Validation: utf8_valid(str) → bool”">​</a></h4><p>Checks if a string contains valid UTF-8.</p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> valid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> utf8_valid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello, 世界!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns true</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> invalid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> utf8_valid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0xFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0xFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns false</span></span></code></pre></div><h4 id="utf-8-character-count-utf8-char-count-str-→-usize" tabindex="-1">UTF-8 Character Count: <code>utf8_char_count(str)</code> → <code>usize</code> <a class="header-anchor" href="#utf-8-character-count-utf8-char-count-str-→-usize" aria-label="Permalink to “UTF-8 Character Count: utf8_char_count(str) → usize”">​</a></h4><p>Returns the number of Unicode characters in a UTF-8 string.</p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> utf8_char_count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello, 世界!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns 9 (not byte count)</span></span></code></pre></div><h4 id="utf-8-character-at-utf8-char-at-str-index-→-u32" tabindex="-1">UTF-8 Character At: <code>utf8_char_at(str, index)</code> → <code>u32</code> <a class="header-anchor" href="#utf-8-character-at-utf8-char-at-str-index-→-u32" aria-label="Permalink to “UTF-8 Character At: utf8_char_at(str, index) → u32”">​</a></h4><p>Returns the Unicode codepoint at the specified character index.</p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> codepoint </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> utf8_char_at</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello, 世界!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Returns &#39;世&#39; (19990)</span></span></code></pre></div><h3 id="launch-expression-future" tabindex="-1">Launch Expression (Future) <a class="header-anchor" href="#launch-expression-future" aria-label="Permalink to “Launch Expression (Future)”">​</a></h3><p><strong>Syntax</strong>: <code>launch func[grid_dims](args)</code></p><p>Launches a function on parallel compute units (GPU, HPC clusters).</p><div class="language-rust"><button title="Copy Code" class="copy"></button><span class="lang">rust</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Launch kernel on GPU</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">launch vector_add[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">](a, b, result);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Multi-dimensional grid</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">launch matrix_mul[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">](matrix_a, matrix_b, output);</span></span></code></pre></div><p><strong>Status</strong>: AST support exists, implementation pending.</p><p><strong>Note</strong>: This is a planned feature for high-performance computing integration.</p>`,81)])])}const g=i(n,[["render",l]]);export{c as __pageData,g as default};
