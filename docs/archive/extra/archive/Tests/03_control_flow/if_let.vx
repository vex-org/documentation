// Test if let construct
// NOTE: if-let is not yet implemented - using match instead
// NOTE: Generic enum instantiation has issues - using simple enum
// Expected: All assertions pass

enum SimpleOption {
    SomeVal(i32),
    NoneVal,
}

fn check_some(m: SimpleOption): i32 {
    match m {
        SimpleOption.SomeVal(x) => x,
        SimpleOption.NoneVal => -1,
    }
}

fn check_none(m: SimpleOption): bool {
    match m {
        SimpleOption.SomeVal(_) => false,
        SimpleOption.NoneVal => true,
    }
}

fn main(): i32 {
    let val = SimpleOption.SomeVal(42);
    let empty = SimpleOption.NoneVal;

    // Test extracting value from SomeVal
    let extracted = check_some(val);
    assert(extracted == 42, "Match extraction");

    // Test NoneVal case
    let is_empty = check_none(empty);
    assert(is_empty, "Match else equivalent");

    $print("âœ… All if let (via match) tests passed!");
    return 0;
}
